#!/usr/bin/env bash
#MISE description="Generate HTML output for all known slides directories"
#
# This is a file-based task instead of a TOML task because the `{#` is
# parsed by Tera.

mkdir -p out
args=()
for dir in $(mise run talk-directories); do
  if [[ ${#args[@]} -gt 0 ]]; then
    args+=(:::)
  fi
  args+=(build:html "$dir" out/"$dir")
done
mise run "${args[@]}"
